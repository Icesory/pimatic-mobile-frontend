(function(){$(document).on("pagebeforecreate",function(){var a,b;if(null==pimatic.pages.editGroup){a=function(){function a(){this.groupTitle=ko.computed(function(a){return function(){return __("add"===a.action()?"Add New Group":"Edit Group")}}(this))}return a.prototype.action=ko.observable("add"),a.prototype.groupName=ko.observable(""),a.prototype.groupId=ko.observable(""),a.prototype.resetFields=function(){return this.groupName(""),this.groupId("")},a.prototype.onSubmit=function(){var a;return a={groupId:this.groupId(),group:{name:this.groupName()}},function(){switch(this.action()){case"add":return pimatic.client.rest.addGroup(a);case"update":return pimatic.client.rest.updateGroup(a);default:throw new Error("Illegal devicegroup action: "+action())}}.call(this).done(function(a){return a.success?$.mobile.changePage("#index",{transition:"slide",reverse:!0}):alert(a.error)}).fail(ajaxAlertFail),!1},a.prototype.onRemove=function(){return pimatic.client.rest.removeGroup({groupId:this.groupId()}).done(function(a){return a.success?$.mobile.changePage("#index",{transition:"slide",reverse:!0}):alert(a.error)}).fail(ajaxAlertFail),!1},a}();try{pimatic.pages.editGroup=new a}catch(c){b=c,TraceKit.report(b)}}}),$(document).on("pagecreate","#edit-devicepage",function(){var a;try{return ko.applyBindings(pimatic.pages.editGroup,$("#edit-devicepage")[0])}catch(b){return a=b,TraceKit.report(a)}})}).call(this);