!function(a,b){"function"==typeof define&&define.amd?define([],b):"object"==typeof exports?module.exports=b():a.humanFormat=b()}(this,function(){"use strict";var a=function(a){return a.replace(/([.*+?=^!:${}()|[\]\/\\])/g,"\\$1")},b=function(){var a=Object.prototype.toString;a=a.call.bind(a);var b=a([]);return function(c){return a(c)===b}}(),c=function(){var a=Object.prototype.hasOwnProperty;return a=a.call.bind(a),function(b,c){var d;for(d in c)a(c,d)&&void 0===b[d]&&(b[d]=c[d]);return b}}(),d=function(a,b){for(var c,d,e=0,f=a.length-1;e!==f;)c=e+f+1>>1,d=a[c][1],d>b?f=c-1:e=c;return a[e]},e=function(c,d,e){e||(e=0);var f,g=[],h={},i=[];return c.forEach(function(c,f){var j,k;b(c)?(j=c[0],k=c[1]):(j=c,k=Math.pow(d,f+e),c=[j,k]),g.push(c),h[j]=k,i.push(a(j))}),g.sort(function(a,b){return a[1]-b[1]}),i=i.sort(function(a,b){return b.length-a.length}).join("|"),f=new RegExp("^\\s*(\\d+(?:\\.\\d+)?)\\s*("+i+").*?$","i"),{list:g,map:h,re:f}},f={unit:"B",prefixes:e("y,z,a,f,p,n,Âµ,m,,k,M,G,T,P,E,Z,Y".split(","),1e3,-8)},g=function(a,b){if(b=c(b||{},f),a=+a,!a)return{num:0,prefix:"",unit:b.unit};var e;if(void 0!==b.prefix){var g=b.factor;void 0===g&&(console.log(b.prefixes.map),g=b.prefixes.map[b.prefix]),void 0!==g&&(e=[b.prefix,g]),console.log(b,e)}return e||(e=d(b.prefixes.list,a)),a=Math.round(100*a/e[1])/100,{num:a,prefix:e[0],unit:b.unit}},h=function(a,b){var c=g(a,b);return c.num+c.prefix+c.unit};return h.humanFormatInfo=g,h.makePrefixes=e,h.parse=function(a,b){var d=c(b||{},f).prefixes,e=d.re.exec(a);if(!e)return null;var g=+e[1],h=d.map[e[2]];return isNaN(g)||!h?null:g*h},h});