doctype 5
html(manifest='application.manifest')
  head
    meta(charset='utf-8')
    meta(name='viewport', content='width=device-width, initial-scale=1')
    meta(name='apple-mobile-web-app-capable', content='yes')
    meta(name='apple-mobile-web-app-status-bar-style', content='black')
    title pimatic
    - for css in theme.cssFiles
      link(rel='stylesheet', href=css)
    link(rel='stylesheet', href='css/style.css')
    script(src='js/jquery.min.js')
    script(src='js/jquery.mobile-1.3.2.min.js')  
    script(src='socket.io/socket.io.js')
    script(src='js/main.js')
    script#switch-template(type='text/template')
      li(data-role="fieldcontain")
        label
        select.switch(data-role="slider")
          option(value="off")=__('Off')
          option(value="on")=__('On')
          script#switch-template(type='text/template')
    script#rule-template(type='text/template')
      li
        a.rule(data-transition='slide', href='#edit-rule')
          span.if=__('if')
          | 
          span.condition
          | 
          span.then=__('then')
          | 
          span.action
        
  body
    //- Actuators and rules page
    div#index(data-role='page')
      div(data-theme='a', data-role='header', data-position='fixed')
        a#talk.ui-btn-right(data-role='button', href='#outlet-control', 
                            style='display: none;')=__('Speak')
        h3 pimatic
      div(data-role='content')
        ul#actuators(data-role='listview', data-inset='true')
          li(data-role='list-divider')=__('Switches')
        ul#rules(data-role='listview', data-inset='true')
          li(data-role='list-divider')=__('Rules')
          li#add-rule()
            a(data-transition='slide', href='#edit-rule')=__('Add a new rule...')
    //- Rule edit page 
    div#edit-rule(data-role='page')
      div(data-theme='a', data-role='header', data-position='fixed')
        h3.edit=__('Edit rule')
        h3.add=__('Add new rule')
      div(data-role='content')
        form#edit-rule-form
          input#edit-rule-id(type="text", placeholder="id")
          textarea#edit-rule-text(name="", placeholder="if ... then ...")
          fieldset.ui-grid-a
            div.ui-block-a
              a#edit-rule-cancel(data-icon="close", data-transition='slide', data-direction="reverse"
                                 data-role="button", href='#index')=__('Cancel')
            div.ui-block-b
              input#edit-rule-save(data-icon="check", data-theme="a",value=__('Save'), type="submit")
          div#edit-rule-advanced
            span=__('Advanced Options:') 
            a#edit-rule-remove(data-icon="delete", data-transition='slide', data-direction="reverse"
                                   data-role="button", href='#index')=__('Delete this rule')

